(this.webpackJsonphackernewsui=this.webpackJsonphackernewsui||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),s=a.n(c),l=a(8),o=(a(38),function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"header container"},r.a.createElement("div",{className:"col-left"},r.a.createElement("h1",{className:"header__main-header"},r.a.createElement(l.b,{to:"/news-feed",title:"home"},"hackernewsUI")))))}),m=a(1),i=a(2),u=a.n(i),d=a(7),f=a(3),p=a(12),E=a(30),h=a(17);function b(e){if(!e||e>v())return"N/A";var t=Math.floor((v()-e)/60),a=Math.floor(t/60),n=Math.floor(a/24);return n>30?"".concat(a," month(s) ago"):a>24?"".concat(n," day(s) ago"):t>60?"".concat(a," hour(s) ago"):t>1?"".concat(t," minutes ago"):"less than a minute ago"}var v=function(){return Math.floor((new Date).getTime()/1e3)},w=a(31),N=a.n(w).a.create({baseURL:"https://hacker-news.firebaseio.com/v0",headers:{"content-type":"application/json"}}),k=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get(t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/topstories.json?print=pretty");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",console.log("empty"));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/item/".concat(t,".json?print+pretty"));case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",console.log("empty"));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.newsItemId,a=r.a.useState(!1),n=Object(f.a)(a,2),c=n[0],s=n[1],o=r.a.useState(null),m=Object(f.a)(o,2),i=m[0],p=m[1],E=r.a.createElement("li",{className:"list__item preloader-block"},r.a.createElement("div",{className:"preloader-block__content"}),r.a.createElement("div",{className:"preloader-block__content sm mt--5"}));return r.a.useEffect((function(){Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,x(t);case 3:a=e.sent,p(a.data),s(!1);case 6:case"end":return e.stop()}}),e)})))()}),[t]),r.a.createElement(r.a.Fragment,null,c?E:i&&r.a.createElement("li",{className:"list__item"},r.a.createElement(l.b,{to:{pathname:"/news-feed/".concat(i.id),state:{newsItemData:i}}},r.a.createElement("h2",{className:"text--header"},i.title),r.a.createElement("div",{className:"text--secondary"},"Score: ",r.a.createElement("span",{className:"separator"},i.score),"By: ",r.a.createElement("span",{className:"separator"},i.by," "),b(i.time)))))},y=function(e){var t=e.newsIds,a=e.itemsInView,n=r.a.useState(null),c=Object(f.a)(n,2),s=c[0],l=c[1],o=r.a.useState(0),m=Object(f.a)(o,2),i=m[0],u=m[1];r.a.useEffect((function(){return l(function(e){var t={},n=0,r=[];return e.forEach((function(e,c){c%a===0&&0!==c&&(r=[],n++),r=[].concat(Object(h.a)(r),[e]),t=Object(E.a)({},t,Object(p.a)({},n,Object(h.a)(r)))})),t}(t))}),[t]);var d=!!s&&i===Object.keys(s).length-1;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"pagination list list--news-feed"},!!s&&s[i].map((function(e,t){return r.a.createElement(_,{key:t,newsItemId:e})}))),r.a.createElement("div",{className:"pagination__action-bar"},!!i&&r.a.createElement("button",{className:"btn-left-arrow",onClick:function(){return u(i-1)}}),r.a.createElement("div",{className:"circular-index"},i+1),d?r.a.createElement(r.a.Fragment,null):r.a.createElement("button",{className:"btn-right-arrow",onClick:function(){return u(i+1)}})))},j=r.a.createElement("div",{className:"flex-wrapper flex-wrapper--ctr empty-state"},r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement("div",{className:"loader"})),r.a.createElement("div",{className:"text--secondary"},"Loading Feed")),O=function(){var e=r.a.useState([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),s=Object(f.a)(c,2),l=s[0],o=s[1];return r.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,g();case 3:t=e.sent,n(t.data),o(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l?j:r.a.createElement(y,{newsIds:a,itemsInView:10})},I=a(32),S=function e(t){var a=t.commentId,n=r.a.useState(null),c=Object(f.a)(n,2),s=c[0],l=c[1],o=r.a.useState(!1),m=Object(f.a)(o,2),i=m[0],p=m[1],E=r.a.createElement("li",{className:"list__item"},r.a.createElement("div",{className:"comment-block preloader-block"},r.a.createElement("div",{className:"preloader-block__content sm"}),r.a.createElement("div",{className:"preloader-block__content comment-block__comment"})));return r.a.useEffect((function(){!function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,x(a);case 3:t=e.sent,p(!1),l(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]),console.log(s&&s.time),r.a.createElement(r.a.Fragment,null,i?E:s&&s.text&&r.a.createElement("li",{className:"list__item"},r.a.createElement("div",{className:"comment-block"},r.a.createElement("div",{className:"text--secondary"},r.a.createElement("span",{className:"separator text--bold"},s.by),r.a.createElement("span",null,b(s.time))),r.a.createElement("div",{className:"comment-block__comment",dangerouslySetInnerHTML:{__html:Object(I.sanitize)(s.text)}})),s.kids&&r.a.createElement("ul",{className:"list list--comment-feed"},s.kids.map((function(t,a){return r.a.createElement(e,{key:"news-comment-".concat(t),commentId:t})})))))},F=function(e){r.a.useEffect((function(){e.location&&e.location.state&&e.location.state.newsItemData&&c(e.location.state.newsItemData)}),[e.location]);var t=r.a.useState(""),a=Object(f.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"text--header text--lg"},r.a.createElement("a",{className:"newsItem__header",href:n.url,target:"_blank",title:n.url,rel:"noopener noreferrer"},n.title)),r.a.createElement("h3",{className:"text--header text--md mx--30"},"Comments"),r.a.createElement("ul",{className:"list list--comment-feed"},n.kids&&n.kids.length?n.kids.map((function(e){return r.a.createElement(S,{key:"news-comment-".concat(e),commentId:e})})):r.a.createElement("div",{className:"text--secondary"},"No comments found"))))},M=function(){return r.a.createElement("main",{className:"main-content container"},r.a.createElement("div",{className:"col-mid col-mid--dashboard"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(m.a,{to:"/news-feed"})}}),r.a.createElement(m.b,{path:"/news-feed/:id",component:F}),r.a.createElement(m.b,{path:"/news-feed",component:O}))))},D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o,null),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.92498c8e.chunk.js.map